<!DOCTYPE html>
<html>
<head>
    <script type="module">
        // CONFIG START
        const config = {
            "app_ver": "1.0",
            "title": "JSmith Analysis",
            "client_name": "John Smith",
            "experts": "Clark Kent",
            "date_created": "Jun 19, 2023",
            "comments": "N/A",
            "analysis": [
                {
                    "text": "I love pie",
                    "count": 1,
                    "aspectOne": "Si",
                    "aspectTwo": "Fe",
                    "modifier": " blocked with ",
                    "sign": "PLUS",
                    "dimension": "Low-dimensionality",
                    "dichotomy": "Mental",
                    "blocks": "Super Ego",
                    "comment": ""
                },
                {
                    "text": "What a wonderful time",
                    "count": 1,
                    "aspectOne": "Fe",
                    "aspectTwo": "Si",
                    "modifier": " transferred to ",
                    "sign": "MINUS",
                    "dimension": "Low-dimensionality",
                    "dichotomy": "Mental",
                    "blocks": "Super Id",
                    "comment": "Testing123"
                }
            ]
        }
        // CONFIG END

        function addTextIfExists(text) {
            if (text != "") {
                return ";" + text;
            } else {
                return "";
            }
        }

        import { createApp } from 'https://unpkg.com/petite-vue?module'
        
        createApp({ 
            
            config,

            formatAnalysis(analysis) {
                var text = "{";
                text += analysis.count;
                text += ";" + analysis.aspectOne;

                text += addTextIfExists(analysis.modifier + analysis.aspectTwo);
                text += addTextIfExists(analysis.sign);
                text += addTextIfExists(analysis.dimension);
                text += addTextIfExists(analysis.dichotomy);
                text += addTextIfExists(analysis.blocks);
            
                text += "}";

                return text;
            }

        }).mount("#app");
    </script>

    <!-- PAGE CSS -->
    <style>

    </style>

    <title>Socionics Analysis</title>
</head>

<body>
<div id="app">
    <table> 	
        <tr>
            <th width="60%"> QUESTIONS AND ANSWERS </th>
            <th width="40%"> EXPERT REMARKS</th>
        </tr>

        <template v-for="row in config.analysis">
            <tr>
                <td>
                    [{{ row.count }}] {{ row.text }} [{{ row.count }}]
                </td>
                <td>
                    {{formatAnalysis(row)}}
                </td>
            </tr>
        </template>
    </table>
</div>
</body>
</html>